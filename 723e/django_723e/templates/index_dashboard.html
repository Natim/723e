{% load static from staticfiles %}
<!DOCTYPE html>
<html ng-app="django_723e">
  <head>
    <title>{% block title %}723e{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="{% static "css/bootstrap.min.css" %}" rel="stylesheet">
    <link href="{% static "css/styles.css" %}" rel="stylesheet">
    
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{% static "js/jquery-2.1.0.min.js" %}" type="text/javascript"></script>
    <script src="{% static "js/bootstrap.min.js" %}" type="text/javascript"></script>
    <script src="{% static "js/raphael-min.js" %}" type="text/javascript"></script>
    <script src="{% static "js/livicons-1.3.min.js" %}" type="text/javascript"></script>
    <script src="{% static "js/angular.js" %}" type="text/javascript"></script>
    <script src="{% static "js/angular-route.js" %}" type="text/javascript"></script>
    <script src="{% static "js/angular-resource.js" %}" type="text/javascript"></script>
    <script src="{% static "djangular/js/django-angular.min.js" %}" type="text/javascript"></script>

    <script  type="text/javascript">

      var django_723e = angular.module('django_723e', [
        'ngRoute',
        'ngResource',
        'django_723eControllers',
        'django_723eServices'
      ]);

      django_723e.config(function($httpProvider) {
          $httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
      });
      django_723e.config(function($interpolateProvider) {
          $interpolateProvider.startSymbol('{$');
          $interpolateProvider.endSymbol('$}');
      });



      var django_723eControllers = angular.module('django_723eControllers', []);

      django_723eControllers.controller('TransactionListCtrl', ['$scope', 'Transaction', function($scope, Transaction) {
        $scope.transactions = Transaction.query();
        $scope.orderProp = 'fields.name';
      }]);

      django_723eControllers.controller('TransactionDetailsCtrl', ['$scope', '$routeParams', 'Transaction',
        function($scope, $routeParams, Transaction) {
          $scope.trans = Transaction.get({pk: $routeParams.valueID});
          $scope.transactionId = $routeParams.valueID;
        }]);

            /* App Module */

      django_723eControllers.config(['$routeProvider',
        function($routeProvider) {
          $routeProvider.
            when('/liste', {
              templateUrl: '/dashboard/liste/',
              controller: 'TransactionListCtrl'
            }).
            when('/details/:valueID', {
              templateUrl: '/dashboard/details/',
              controller: 'TransactionDetailsCtrl'
            }).
            otherwise({
              redirectTo: '/liste'
            });
        }]);

      var django_723eServices = angular.module('django_723eServices', ['ngResource']);

      django_723eServices.factory('Transaction', ['$resource',
        function($resource){
          return $resource('/api/v1/transactions/', {'pk': '@pk'}, {
          });
        }]);


    </script>
  </head>
  <body>
  	
  	<div class="css_content js_content">

      <div ng-view></div>

     

  	</div>

    
  </body>
</html>
